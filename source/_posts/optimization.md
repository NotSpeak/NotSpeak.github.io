---
title: å‰ç«¯æ€§èƒ½ä¼˜åŒ–
date: 2022-10-10 14:01:25
tags:
- å‰ç«¯æ€§èƒ½ä¼˜åŒ–
categories:
- å‰ç«¯
top_img: /img/cover2.jpg
cover: /img/cover2.jpg
---
## å‰ç«¯æ€§èƒ½ä¼˜åŒ–
### å¦‚ä½•ä¼˜åŒ–è¯·æ±‚
#### å›¾ç‰‡æ–¹é¢
##### â‘  ç²¾çµå›¾
{% note %}
é€šè¿‡ background-position æ¥å–æ¯ä¸ªå›¾æ ‡ä½ç½®ï¼Œæœ€åæ¯ä¸ªå›¾æ ‡
===>
ä¼˜åŠ¿ :
ä¸€æ¬¡è¯·æ±‚ï¼Œå¤šæ¬¡åˆ©ç”¨ ï¼ˆ å‡å°‘è¯·æ±‚é¢‘ç‡ ï¼‰
ğŸ‘‡
{% endnote %}
![ç²¾çµå›¾](/img/jingling.png)
##### â‘¡ å°å›¾æ ‡ Base64
{% note %}
è™½ç„¶ å†…å­˜æ²¡æœ‰å‡å° ï¼Œå­˜å‚¨ä¸ºè¶…é•¿çš„å­—ç¬¦ä¸²ç 
ä½†æ˜¯ä¸ç”¨è¯·æ±‚å„ç§å°å›¾æ ‡ ï¼ˆ å‡å°‘è¯·æ±‚é¢‘ç‡ï¼‰
åº”ç”¨ ï¼ˆwebpack æ‰“åŒ…é…ç½®ï¼‰
ä¸‹è½½æ’ä»¶ï¼šğŸ‘‡
npm i -D url-loader
é…ç½®æ‰“åŒ…ï¼š ğŸ‘‡
{% endnote %}
```
module: {
  rules: [{
      test: /\.(jpeg|jpg|png|svg|gif)$/,
      use: {
        loader: 'url-loader', // é»˜è®¤ä½¿ç”¨çš„æ˜¯es6æ¨¡å—
        options: { // é…ç½® 
          esModule: false, // ä½¿ç”¨common.jsè§„èŒƒ
          outputPath: 'images', // è¾“å‡ºçš„æ–‡ä»¶ç›®å½•
          name: 'images/[contenthash:4].[ext]',
          limit: 10*1024 // å°äº10kè½¬ä¸ºbase64
        }
      }
    }
  ]
}
```
##### â‘¢ å›¾ç‰‡æ‡’åŠ è½½
{% note %}
ç”µå•†ç³»ç»Ÿï¼Œæœ€ä¸ºå¸¸ç”¨ï¼›
åŸç†ï¼š ğŸ‘‡
æ»šåŠ¨åˆ°å›¾ç‰‡ä½ç½®ï¼Œå†å»è¯·æ±‚å›¾ç‰‡
è¿™æ ·æµè§ˆå¤šå°‘ï¼ŒåŠ è½½å¤šå°‘ ï¼ˆ æŒ‰éœ€è¯·æ±‚ ï¼‰
ç®€å•å®ç°ï¼š ğŸ‘‡
{% endnote %}
```
<body>
  <img data-a="./img/1.jpg" alt="">
  <img data-a="./img/2.jpg" alt="">
  <img data-a="./img/3.jpg" alt="">
  <img data-a="./img/4.jpg" alt="">
  <img data-a="./img/5.jpg" alt="">
</body>
<script>
  const imgs = document.getElementsByTagName('img');
  window.onload = window.onscroll = function () { 
        gundong(imgs);
    }
  function gundong(imgs) {
      let height = document.documentElement.clientHeight;
      let s = document.documentElement.scrollTop || document.body.scrollTop;	
      for (let i = 0; i < imgs.length; i++) {
          if (hight + s > getTop(imgs[i])) {
              imgs[i].src = imgs[i].getAttribute('data-a');
          }
      }
  }
  function getTop(e) {  //è®¡ç®—åˆ°æµè§ˆå™¨é¡¶éƒ¨çš„è·ç¦»
      let ss = e.offsetTop;
      while(e = e.offsetParent) {
          ss += e.offsetTop;
      }
      return ss;
  }
 </script>
```
##### â‘£ å›¾æ ‡åº“ é‡‡ç”¨ svg
{% note %}
svg æ˜¯ HTML5 æ–°å¢çš„ çŸ¢é‡å›¾ ï¼ˆ å‡å°‘è¯·æ±‚ ï¼‰
svg å›¾æ ‡å ç”¨å†…å­˜éå¸¸å°
å°†å›¾æ ‡åº“ï¼Œé€‰æ‹©svgç±»å‹å›¾æ ‡åº“
æ¨èï¼š ğŸ‘‡
Iconify å›¾æ ‡åº“ ( åŒ…å« Antdã€Element ui â€¦çš„å›¾æ ‡ )
å®‰è£…ï¼šğŸ‘‡
npm i -D @iconify/json
åœ°å€ï¼šğŸ‘‡
{%btn 'https://icon-sets.iconify.design/',ç‚¹å‡»è·³è½¬ï¼ˆå¼€æºå…è´¹ï¼‰,far fa-hand-point-right,block left %}
{% endnote %}
#### è¯·æ±‚å†…å®¹æ–¹é¢
##### â‘  å‡å°‘è¯·æ±‚å†…å®¹å¤§å°
{% note %}
æ¯æ¬¡è¯·æ±‚çš„æ•°æ®ä¸è¦å¤ªå¤§
è¡¨æ ¼å’Œåˆ—è¡¨ ç±»å‹ åç«¯åˆ†é¡µ ğŸ‘‡
â€” åˆ†é¡µå°½é‡åç«¯å¤„ç†
â€” å‰ç«¯ä¼ å‚ ï¼Œæ¯æ¬¡è¯·æ±‚æ¯é¡µæ•°æ® ï¼ˆ åŠ å¿«è¯·æ±‚å“åº”é€Ÿåº¦ ï¼‰
â€¦
{% endnote %}
##### â‘¡æ›´æ”¹è¯·æ±‚æ–¹å¼
{% note %}
å¯¹äºè·å– è¡¨æ ¼ã€æˆ–åˆ—è¡¨å†…å®¹ ï¼Œå°½é‡ get è¯·æ±‚
è·å–è¡¨æ ¼ï¼Œ ä¸€èˆ¬åªä¼šä¼  é¡µç å’Œå¤§å°ã€ç±»å‹ ï¼ˆ ä¸ä¼šæ¶‰åŠé‡è¦å‚æ•°ï¼‰
get è¯·æ±‚çš„ é€Ÿåº¦ > post è¯·æ±‚ é€Ÿåº¦
{% endnote %}
##### â‘¢ é˜²æŠ–èŠ‚æµ
{% note %}
é˜²æŠ–ï¼šğŸ‘‡ä¾‹å­
è¡¨å• ç‚¹å‡»æŒ‰é’®æäº¤æ—¶ï¼Œç„¶å å‡ ç§’å†…ï¼ŒæŒ‰é’® ä¸èƒ½è¢«ç‚¹å‡»æˆ–ç‚¹å‡»æ— æ•ˆï¼Œé¿å…è¿‡å¿«é‡å¤ç‚¹å‡»
ã€ã€ã€
èŠ‚æµï¼šğŸ‘‡ ä¾‹å­
æœç´¢æ¡†åŒ¹é…å†…å®¹æ—¶ï¼Œç”¨æˆ· åœæ­¢è¾“å…¥åˆ° å‡ ç§’æ—¶å»æœç´¢ï¼Œè€Œä¸æ˜¯è¾“å…¥ä¸€ä¸ª è§¦å‘ä¸€æ¬¡
{% endnote %}
##### â‘£ åˆ©ç”¨å­˜å‚¨
{% note %}
æœ¬åœ°å­˜å‚¨ ï¼š
cookieã€localStorageã€sessionStorage
åœºæ™¯ï¼šğŸ‘‡
1ã€ç¬¬ä¸€æ¬¡è¯·æ±‚åï¼Œå­˜å‚¨åˆ°æœ¬åœ°ï¼Œä¸‹æ¬¡å‘é€è¯·æ±‚ï¼Œåç«¯åˆ¤æ–­æ•°æ®æ˜¯å¦æ›´æ–°ï¼Œå¦‚æœä¸æ›´æ–°ä¸è¿”å›æ•°æ®ï¼›
2ã€ç”¨æˆ·ç™»å½• å°†token å­˜å‚¨ cookie ï¼Œå†è®¿é—®æ”¹ç½‘é¡µtokenæœªè¿‡æœŸï¼Œåˆ™ä¸éœ€è¦é‡æ–°ç™»å½•ï¼›
{% endnote %}
### ä»£ç ä¼˜åŒ–
#### â‘  äº‹ä»¶å§”æ‰˜
{% note %}
ç»™ çˆ¶æ ‡ç­¾ ç»‘å®šç‚¹å‡»äº‹ä»¶
ç‚¹å‡» å­æ ‡ç­¾ åŒæ ·ä¼šæ‰§è¡Œè¯¥å‡½æ•°
ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š ğŸ‘‡
{% endnote %}
```
<body>
  <ul onclick="fun(event)">
    <li>111</li>
    <li>222</li>
    <li>333</li>
  </ul>
</body>
<script>
  function fun(e){
    console.log(e.target.innerHTML);
  }
</script>
```
#### â‘¡ å‡å°‘domæ“ä½œ
{% note %}
å°‘ é€šè¿‡ document æ¥è·å–å¯¹è±¡ å¦‚ï¼šğŸ‘‡
document.getElementsByClassName( â€˜contentâ€™ ).innerHTML = 123
å› ä¸ºåŒæ—¶æ“ä½œå¤šä¸ªæ ‡ç­¾ => å¤§é‡çš„ é‡ç»˜ æˆ– é‡æ’
å¯ä»¥ä½¿ç”¨æµè¡Œçš„æ¡†æ¶ ğŸ‘‡
å¦‚ï¼š vue ã€react éƒ½é‡‡ç”¨ è™šæ‹Ÿdom ï¼Œå¤šæ¬¡æ“ä½œä¸€æ¬¡æ¸²æŸ“
{% endnote %}
#### â‘¢ é¡µé¢ç»“æ„ä¼˜åŒ–
{% note %}
å°†scriptæ ‡ç­¾æ”¾åˆ°æœ€åé¢å¯ä»¥æå‰è§£æDNSèµ„æºã€‚
{% endnote %}
#### â‘£ css ä¼˜åŒ–
{% note %}
é€‰æ‹©å™¨å‡†ç¡®å¯ä»¥å‡å°‘åŒ¹é…çš„æ—¶é—´ã€‚
å¦‚ ï¼š .box>.header_box>.content{ â€¦ }
less å’Œ sass å¯ä»¥å±‚çº§åµŒå¥— ä¼š åŠ å¿«åŒ¹é…æ—¶é—´
å¦‚ ğŸ‘‡
{% endnote %}
```
<style lang="less">
.box{
	...
	.header_box{
		...
		.content{
			...
		}
	}
}
</style>
```
### æ¡†æ¶å’Œæ‰“åŒ…
#### â‘  SSR æœåŠ¡ç«¯æ¸²æŸ“
{% note %}
é¡µé¢åœ¨æœåŠ¡ç«¯ç›´æ¥æ¸²æŸ“æˆ HTML å­—ç¬¦ä¸²ï¼Œä½œä¸ºæœåŠ¡ç«¯å“åº”è¿”å›ç»™æµè§ˆå™¨ï¼Œæœ€ååœ¨æµè§ˆå™¨ç«¯å°†ç”Ÿæˆé™æ€çš„ HTML
ä¼˜åŠ¿ï¼š
 Â· é¦–æ¬¡åŠ è½½é€Ÿåº¦å¿« ï¼Œåˆ©äºSEO
åŠ£åŠ¿ï¼š
 Â· ä¸æ”¯æŒè·¯ç”±æ‡’åŠ è½½ ï¼Œ
 Â· é€‚åˆé¡µé¢è¾ƒå°‘ ï¼Œ
 Â· æœåŠ¡ç«¯å‹åŠ›è¿‡å¤§
nuxt æ˜¯ä¸€ä¸ªSSR æœ€ä¸ºæµè¡Œçš„æ¡†æ¶ä¹‹ä¸€ åŸºäºvue ğŸ‘‡
{%btn 'https://v3.nuxtjs.org/',ç‚¹å‡»äº†è§£ nuxt ,far fa-hand-point-right,block left %}
{% endnote %}
#### â‘¡ CDN åŠ é€Ÿ
{% note %}
CDN åŠ é€Ÿå°±æ˜¯å°† ä¾èµ–éƒ¨ç½²åœ¨å…¶ä»–ç«™ç‚¹ä¸Šï¼Œè€Œä¸æ˜¯æŠŠèµ„æºæ‰“åŒ…åˆ°é¡¹ç›®ä¸­ ã€‚
ä¸éœ€è¦ npm æˆ– yarn ä¸‹è½½ ï¼Œåªéœ€è¦html æ–‡ä»¶çš„ å¤´éƒ¨å»å¯¼å…¥ ğŸ‘‡
{% endnote %}
```
<body>
    <div id="app"></div>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/3.1.5/vue.global.min.js"></script>
</body>
```
```
// webpack.config .js
module.exports = {
  chainWebpack: config => {
      config.externals({
          'vue': 'Vue',
      })
    },
}
```
{% note %}
ä¼˜åŠ¿ï¼š
 Â· è¿™ç§ éå¸¸é€‚åˆå¸¦å®½æ¯”è¾ƒå°çš„æœåŠ¡å™¨
 Â· æ‰“åŒ…ä¼šæ›´åŠ å°
åŠ£åŠ¿ï¼š
 Â· å¦‚æœ æœåŠ¡å™¨ä¸å·®ï¼ŒCDN åŠ é€Ÿåè€Œä¼šå˜æ…¢
 Â· è¯·æ±‚çš„ä¾èµ–åŒ…æ˜¯å…¨é‡çš„ï¼Œæ²¡æœ‰æŒ‰éœ€åŠ è½½
{% endnote %}
#### â‘¢ tree-shaking (æ‘‡æ ‘ä¼˜åŒ–)
{% note %}
æ‘‡æ ‘ä¼˜åŒ– ï¼šé¡¾åæ€ä¹‰å°±æ˜¯è¦æ‰ï¼Œèº«ä¸Šå¤šä½™çš„ä¸œè¥¿
å°±æ˜¯æ‰“åŒ…çš„æ—¶å€™ ï¼Œä¾èµ–ä¸­æ²¡ç”¨åˆ°çš„åŠŸèƒ½ï¼Œå°±ä¸æ‰“è¿›å»
è®©ç”Ÿäº§ç¯å¢ƒçš„åŒ…è¶³å¤Ÿå° ğŸ‘‡
å‘vue ã€react éƒ½è‡ªå¸¦è¿™ç§åŠŸèƒ½
{% endnote %}
#### â‘£ js æœ€å°æ‹†åŒ…
{% note %}
è¿›å…¥æ¯ä¸ªå­é¡µé¢åŠ è½½æ¯æ¬¡ç”¨åˆ°çš„ js é€»è¾‘
å¯ä»¥é€šè¿‡ webpack å’Œ vite çš„é…ç½®å®ç°
{% endnote %}
#### â‘¤ è·¯ç”±æ‡’åŠ è½½
{% note %}
åœ¨è¿›å…¥é‚£ä¸ªè·¯ç”±ï¼ŒåŠ åœ¨å¯¹åº”çš„é€»è¾‘
åœ¨ vue å’Œ react ä¸­ åº”ç”¨ ğŸ‘‡
{% endnote %}
```
vue é‡‡ç”¨ () => import('/...') æ¥å¯¼å…¥
---
react é‡‡ç”¨ React.lazy(() => import('/...'))
```
#### â‘¥ å¼‚æ­¥ç»„ä»¶ï¼Œå¼‚æ­¥Js
{% note %}
å¦‚æœæœ‰çš„ç»„ä»¶ï¼Œæ˜¯é€šè¿‡ç‚¹å‡» å’Œ æ“ä½œä¹‹åå‡ºç°çš„
è¿™æ—¶å°±å¯ä»¥é€šè¿‡ å¼‚æ­¥ç»„ä»¶å’Œå¼‚æ­¥Js
å®ç° åŠŸèƒ½æŒ‰éœ€åŠ è½½ å·²vue ä¸ºä¾‹ï¼šğŸ‘‡
{% endnote %}
```
import { defineAsyncComponent } from 'vue'
const Foo = defineAsyncComponent(() => import('./Foo.vue'))
```
```
function loadLazy() {
  return import('./lazy.js')
}
```